{"version":3,"sources":["components/Overview.jsx","components/AuthPage.js","App.js","index.js"],"names":["Overview","props","state","editDisplay","e","preventDefault","this","setState","editTask","item","id","editText","className","text","style","paddingLeft","color","cursor","onClick","console","log","deleteFunction","display","onSubmit","handleSubmit","type","onChange","target","value","React","Component","AuthPage","useState","signedIn","setSignedIn","currentUser","setCurrentUser","provider","firebase","auth","GoogleAuthProvider","useEffect","signInStatus","JSON","parse","localStorage","getItem","app","onAuthStateChanged","user","upperUserFunc","buttonStyle","background","src","photoURL","alt","width","height","displayName","setItem","stringify","signOut","then","signoutFunc","catch","error","signInWithPopup","result","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","docRef","doc","App","tasks","setTasks","newTask","setNewTask","uniqid","newId","setNewId","setUser","updatedState","filter","task","targettext","map","documentData","undefined","tasksDOM","uid","get","exists","data","event","size","set","User","UserId","fontSize","href","rel","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.da357f27.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { FaTrash, FaPencilAlt } from \"react-icons/fa\";\r\n\r\nclass Overview extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      editDisplay: \"none\",\r\n    };\r\n  }\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    this.setState({ editDisplay: \"none\" });\r\n    this.props.editTask(this.props.item.id, this.state.editText);\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"Task\">\r\n        <br />[ {this.props.text} ]\r\n        <FaPencilAlt\r\n          style={{ paddingLeft: 10, color: \"22,22\", cursor: \"pointer\" }}\r\n          onClick={(e) => {\r\n            console.log(\"EDIT\");\r\n            console.log(this.state.editDisplay);\r\n            this.state.editDisplay === \"inline-block\"\r\n              ? this.setState({ editDisplay: \"none\" })\r\n              : this.setState({ editDisplay: \"inline-block\" });\r\n          }}\r\n        />\r\n        <FaTrash\r\n          onClick={(e) => {\r\n            this.props.deleteFunction(this.props.item.id);\r\n          }}\r\n          style={{ paddingLeft: 10, color: \"red\", cursor: \"pointer\" }}\r\n        />{\" \"}\r\n        <br />\r\n        <form\r\n          style={{ display: this.state.editDisplay }}\r\n          onSubmit={(e) => {\r\n            this.handleSubmit(e);\r\n          }}\r\n        >\r\n          {/* INPUT FIELD WITH ON - CHANGE */}\r\n\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => {\r\n              this.setState({ editText: e.target.value });\r\n            }}\r\n          />\r\n          <button type=\"submit\"> EDIT </button>\r\n        </form>\r\n        <br />\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Overview;\r\n","import { useState, React, useEffect } from \"react\";\r\n\r\nimport { FaSave, FaReact, FaGithub, FaGoogle } from \"react-icons/fa\";\r\n\r\n\r\nimport firebase from \"firebase\";\r\nimport 'firebase/firestore'\r\nimport 'firebase/auth'\r\n\r\n\r\nexport default function AuthPage(props){\r\n    const [signedIn, setSignedIn] = useState(false)\r\n    const [currentUser,setCurrentUser] = useState()\r\n    const provider = new firebase.auth.GoogleAuthProvider()\r\n\r\n    useEffect(()=>{\r\n    const signInStatus = JSON.parse(localStorage.getItem(\"signInStatus\"));\r\n    console.log(signInStatus,'si status')\r\n    if(signInStatus){\r\n        setSignedIn(signInStatus)\r\n    }\r\n      firebase.app().auth().onAuthStateChanged(user=>{\r\n        setCurrentUser(user)\r\n        props.upperUserFunc(user)\r\n        \r\n      })\r\n    },[])\r\n\r\n    const authWithGoogle = () =>{\r\n\r\n      firebase.auth().signInWithPopup(provider)\r\n\r\n        .then(result=>{\r\n            console.log('result: ',result);\r\n            setSignedIn(true);\r\n            localStorage.setItem(\"signInStatus\", JSON.stringify(true));})\r\n\r\n            .then(console.log(signedIn,'signedin?'))\r\n\r\n                .catch(e=>{console.log('SIGN-IN ERROR:',e)})\r\n    }\r\n    const buttonStyle = { background:'none', color: 'white', cursor:'pointer' }\r\n    const signOut= ()=>{\r\n        setSignedIn(false);\r\n        localStorage.setItem(\"signInStatus\", JSON.stringify(false));\r\n        console.log(signedIn)\r\n        firebase.auth().signOut().then(() => {\r\n            props.signoutFunc()\r\n          }).catch((error) => {\r\n            // An error happened.\r\n          });\r\n\r\n    }\r\n    return (<div>\r\n      {currentUser? <img src ={currentUser.photoURL} alt=\"avatar\" style={{width:40,height:40}}></img>:null}\r\n      {currentUser? <p>{currentUser.displayName}</p>:null}\r\n      <FaGoogle /> {signedIn?<button style = {buttonStyle} onClick={signOut}>Sign Out</button>:<button style = {buttonStyle} onClick = {authWithGoogle}> Login </button>} </div>)\r\n  }","import { useState, React, useEffect } from \"react\";\n\nimport Task from \"./components/Overview\";\nimport { FaSave, FaReact, FaGithub } from \"react-icons/fa\";\nimport uniqid from \"uniqid\";\nimport AuthPage from './components/AuthPage'\n\n\nimport firebase from \"firebase\";\nimport 'firebase/firestore'\nimport 'firebase/auth'\n\nimport { useAuthState } from 'react-firebase-hooks/auth'\nimport { useCollectionData} from 'react-firebase-hooks/firestore'\n//https://www.google.com/search?q=firestore+how+to+store+individual+user+data&oq=firestore+how+to+store+individual+user+data&aqs=chrome..69i57j33i160l4.4117j1j4&sourceid=chrome&ie=UTF-8#kpvalbx=_fTTdYO3qHdGGtQa0sZDwBA34\n//https://www.youtube.com/watch?v=2Vf1D-rUMwE\nconst app = firebase.initializeApp({\n    apiKey: \"AIzaSyCKAeLIS9TlZR-CUjBwUxJsNZgfh7K5Y_o\",\n    authDomain: \"react-todo-list-953e3.firebaseapp.com\",\n    projectId: \"react-todo-list-953e3\",\n    storageBucket: \"react-todo-list-953e3.appspot.com\",\n    messagingSenderId: \"954384447079\",\n    appId: \"1:954384447079:web:05a758e553b4f3df0886c2\"\n})\n\nconst auth = firebase.auth();\nconst firestore = firebase.firestore();\n\nlet docRef = firestore.doc('users/currentuser')\n\n\nexport default function App(props) {\n  const [tasks, setTasks] = useState([]);\n  // const [taskEdit, setEdit] = useState(\"\");\n  const [newTask, setNewTask] = useState(\"\");\n  const [newId, setNewId] = useState(uniqid());\n  const [user, setUser] = useState()\n  useEffect(() => {\n    const documentData = JSON.parse(localStorage.getItem(\"document\"));\n    console.log(documentData, \"docdata\");\n    if (localStorage.getItem(\"document\") !== undefined) {\n      setTasks(documentData);\n    }\n  }, []);\n\n  function setMainUser (user){\n    docRef = firestore.doc(`users/${user.uid}`)\n    \n    setUser(user);\n    \n    console.log(user.tasks, 'tasks')\n    docRef.get().then((doc) => {\n      if (doc.exists) {\n          console.log(\"Document data:\", doc.data());\n          setTasks(doc.data().tasks)\n      } else {\n          // doc.data() will be undefined in this case\n          console.log(\"No such document!\");\n      }\n  }).catch((error) => {\n      console.log(\"Error getting document:\", error);\n  });\n  }\n\n  function deleteFunction(id) {\n    const updatedState = tasks.filter((task) => task.id !== id);\n\n    setTasks(updatedState);\n  }\n\n  function editTask(id, targettext) {\n    const updatedState = tasks.map((task) => {\n      if (task.id === id) {\n        return { ...task, text: targettext };\n      }\n      return task;\n    });\n\n    setTasks(updatedState);\n  }\n  function mySubmitHandler(event) {\n    event.preventDefault();\n\n    if(tasks){setTasks([...tasks, { text: newTask, id: newId }]);} else {setTasks([{text: newTask, id: newId}])}\n    \n    setNewTask(\"\");\n    setNewId(uniqid());\n  }\n  console.log(tasks, \"tasks2\");\n\n  function signoutFunc(){\n    setTasks([])\n    setUser(null)\n    if (localStorage.getItem(\"document\")) {\n      setTasks(JSON.parse(localStorage.getItem(\"document\")));\n    }\n  }\n  const tasksDOM = tasks?tasks.map((task) => {\n    return (\n      <Task\n        key={uniqid()}\n        text={task.text}\n        deleteFunction={deleteFunction}\n        item={task}\n        editTask={editTask}\n      />\n    );\n  }) : ([])\n  return (\n    <div className=\"App\">\n\n      <AuthPage upperUserFunc={setMainUser}\n      signoutFunc={signoutFunc}/>\n      {tasksDOM}\n      <hr />\n      <br />\n      <form onSubmit={mySubmitHandler}>\n        <p>\n          Enter task, then submit: <br />\n        </p>\n        <input\n          type=\"text\"\n          onChange={(e) => {\n            setNewTask(e.target.value);\n          }}\n        />\n        <input type=\"submit\" />\n        <br />\n        <br />\n        <br />\n\n        <FaSave\n          cursor=\"pointer\"\n          className=\"icn-spinner\"\n          size=\"40\"\n          onClick={() => {\n            if(user){docRef = firestore.doc(`users/${user.uid}`)}\n            if(!JSON.parse(localStorage.getItem(\"signInStatus\"))){{localStorage.setItem(\"document\", JSON.stringify(tasks)); }}\n            //alert(\"saved!\");\n            if(user){docRef.set({User: user.displayName, UserId: user.uid, tasks: tasks}).then(console.log('saved')).catch(e=>console.log('eRR',e))}\n         \n          }}\n        />\n        <p style={{ fontSize: 15 }}>click this icon to save your tasks</p>\n      </form>\n\n      <footer>\n        {\" \"}\n        made with <FaReact\n          className=\"react-spinner\"\n          color=\"cyan\"\n          size=\"30\"\n        />  {\" \"}\n         <x style={{ paddingLeft: 10 }} >ðŸ”¥ Firebase</x>\n        <a\n          href=\"https://github.com/aresous\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <FaGithub style={{ paddingLeft: 30 }} />\n      github\n        \n        </a>\n\n      </footer>\n    </div>\n  );\n}","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}